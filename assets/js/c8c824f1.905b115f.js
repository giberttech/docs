"use strict";(self.webpackChunkgilbertsoftware=self.webpackChunkgilbertsoftware||[]).push([[942],{7669:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"resql/examples","title":"Examples and Use Cases","description":"This section provides real-world examples of how to use ReSQL for common data transformation scenarios.","source":"@site/docs/resql/examples.md","sourceDirName":"resql","slug":"/resql/examples","permalink":"/docs/resql/examples","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/resql/examples.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Advanced Features","permalink":"/docs/resql/advanced-features"},"next":{"title":"Schema Evolution","permalink":"/docs/resql/schema-evolution"}}');var r=s(4848),d=s(8453);const c={},a="Examples and Use Cases",l={},o=[{value:"E-commerce Data",id:"e-commerce-data",level:2},{value:"Online Store Product Catalog",id:"online-store-product-catalog",level:3},{value:"Social Media Data",id:"social-media-data",level:2},{value:"User Posts and Interactions",id:"user-posts-and-interactions",level:3},{value:"Configuration Management",id:"configuration-management",level:2},{value:"Application Configuration",id:"application-configuration",level:3},{value:"Log Analysis",id:"log-analysis",level:2},{value:"Application Logs",id:"application-logs",level:3},{value:"Financial Data",id:"financial-data",level:2},{value:"Transaction Records",id:"transaction-records",level:3},{value:"Content Management",id:"content-management",level:2},{value:"Blog Posts and Comments",id:"blog-posts-and-comments",level:3},{value:"Tips for Working with JSON Data",id:"tips-for-working-with-json-data",level:2},{value:"Combining Multiple JSON Objects",id:"combining-multiple-json-objects",level:3},{value:"Using jq to Merge JSON Objects",id:"using-jq-to-merge-json-objects",level:4},{value:"Understanding Array Processing",id:"understanding-array-processing",level:3},{value:"Simple Arrays (Kept as Arrays)",id:"simple-arrays-kept-as-arrays",level:4},{value:"Arrays of Objects (Converted to Tables)",id:"arrays-of-objects-converted-to-tables",level:4},{value:"Mixed Arrays",id:"mixed-arrays",level:4},{value:"Best Practices for Data Preparation",id:"best-practices-for-data-preparation",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"1. Master-Detail Relationships",id:"1-master-detail-relationships",level:3},{value:"2. Hierarchical Data",id:"2-hierarchical-data",level:3},{value:"3. Tagging Systems",id:"3-tagging-systems",level:3},{value:"4. Configuration Data",id:"4-configuration-data",level:3},{value:"Troubleshooting Examples",id:"troubleshooting-examples",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"1. Inconsistent Data Types",id:"1-inconsistent-data-types",level:4},{value:"2. Missing Identifiers",id:"2-missing-identifiers",level:4},{value:"3. Circular References",id:"3-circular-references",level:4},{value:"Next Steps",id:"next-steps",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"examples-and-use-cases",children:"Examples and Use Cases"})}),"\n",(0,r.jsx)(n.p,{children:"This section provides real-world examples of how to use ReSQL for common data transformation scenarios."}),"\n",(0,r.jsx)(n.h2,{id:"e-commerce-data",children:"E-commerce Data"}),"\n",(0,r.jsx)(n.h3,{id:"online-store-product-catalog",children:"Online Store Product Catalog"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input JSON:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "products": [\n    {\n      "id": "prod_001",\n      "name": "Wireless Headphones",\n      "price": 99.99,\n      "category": {\n        "name": "Electronics",\n        "parent": "Technology"\n      },\n      "reviews": [\n        {\n          "user": "customer_123",\n          "rating": 5,\n          "comment": "Great sound quality!"\n        }\n      ],\n      "inventory": {\n        "warehouse": "NYC",\n        "quantity": 150,\n        "last_updated": "2024-01-15"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"products"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"price"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"category"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"parent"}),", ",(0,r.jsx)(n.code,{children:"products_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"reviews"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"user"}),", ",(0,r.jsx)(n.code,{children:"rating"}),", ",(0,r.jsx)(n.code,{children:"comment"}),", ",(0,r.jsx)(n.code,{children:"products_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"inventory"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"warehouse"}),", ",(0,r.jsx)(n.code,{children:"quantity"}),", ",(0,r.jsx)(n.code,{children:"last_updated"}),", ",(0,r.jsx)(n.code,{children:"products_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL (PostgreSQL):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE products (\n  id VARCHAR(255) PRIMARY KEY,\n  name TEXT,\n  price NUMERIC(10,2)\n);\n\nCREATE TABLE category (\n  id INTEGER PRIMARY KEY,\n  name TEXT,\n  parent TEXT,\n  products_id VARCHAR(255),\n  FOREIGN KEY (products_id) REFERENCES products(id)\n);\n\nCREATE TABLE reviews (\n  id INTEGER PRIMARY KEY,\n  user TEXT,\n  rating INTEGER,\n  comment TEXT,\n  products_id VARCHAR(255),\n  FOREIGN KEY (products_id) REFERENCES products(id)\n);\n\nCREATE TABLE inventory (\n  id INTEGER PRIMARY KEY,\n  warehouse TEXT,\n  quantity INTEGER,\n  last_updated DATE,\n  products_id VARCHAR(255),\n  FOREIGN KEY (products_id) REFERENCES products(id)\n);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"social-media-data",children:"Social Media Data"}),"\n",(0,r.jsx)(n.h3,{id:"user-posts-and-interactions",children:"User Posts and Interactions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input JSON:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "users": [\n    {\n      "id": 1,\n      "username": "alice_dev",\n      "profile": {\n        "display_name": "Alice Developer",\n        "bio": "Full-stack developer",\n        "location": "San Francisco"\n      },\n      "posts": [\n        {\n          "id": "post_001",\n          "content": "Just shipped a new feature!",\n          "created_at": "2024-01-15T10:30:00Z",\n          "likes": ["user_2", "user_3"],\n          "comments": [\n            {\n              "user": "user_2",\n              "text": "Congratulations!",\n              "created_at": "2024-01-15T11:00:00Z"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"users"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"username"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"profile"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"display_name"}),", ",(0,r.jsx)(n.code,{children:"bio"}),", ",(0,r.jsx)(n.code,{children:"location"}),", ",(0,r.jsx)(n.code,{children:"users_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"posts"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"content"}),", ",(0,r.jsx)(n.code,{children:"created_at"}),", ",(0,r.jsx)(n.code,{children:"users_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"likes"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"value"}),", ",(0,r.jsx)(n.code,{children:"posts_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"comments"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"user"}),", ",(0,r.jsx)(n.code,{children:"text"}),", ",(0,r.jsx)(n.code,{children:"created_at"}),", ",(0,r.jsx)(n.code,{children:"posts_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,r.jsx)(n.h3,{id:"application-configuration",children:"Application Configuration"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input JSON:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "app_config": {\n    "name": "MyApp",\n    "version": "1.2.3",\n    "database": {\n      "host": "localhost",\n      "port": 5432,\n      "name": "myapp_db",\n      "credentials": {\n        "username": "admin",\n        "password": "secret"\n      }\n    },\n    "features": {\n      "authentication": true,\n      "logging": {\n        "level": "info",\n        "file": "/var/log/app.log"\n      }\n    },\n    "environments": [\n      {\n        "name": "development",\n        "database": {\n          "host": "dev-db.example.com"\n        }\n      },\n      {\n        "name": "production",\n        "database": {\n          "host": "prod-db.example.com"\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'Generated Schema (with "Allow complex types" enabled):'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"app_config"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"version"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"database"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"host"}),", ",(0,r.jsx)(n.code,{children:"port"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"credentials"})," (JSON), ",(0,r.jsx)(n.code,{children:"app_config_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"features"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"authentication"}),", ",(0,r.jsx)(n.code,{children:"logging"})," (JSON), ",(0,r.jsx)(n.code,{children:"app_config_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"environments"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"database"})," (JSON), ",(0,r.jsx)(n.code,{children:"app_config_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"log-analysis",children:"Log Analysis"}),"\n",(0,r.jsx)(n.h3,{id:"application-logs",children:"Application Logs"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input JSON:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "logs": [\n    {\n      "timestamp": "2024-01-15T10:30:00Z",\n      "level": "ERROR",\n      "message": "Database connection failed",\n      "context": {\n        "user_id": 123,\n        "request_id": "req_456",\n        "service": "auth-service"\n      },\n      "stack_trace": [\n        "Error: Connection timeout",\n        "  at Database.connect (db.js:25:10)",\n        "  at AuthService.authenticate (auth.js:15:5)"\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"logs"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"timestamp"}),", ",(0,r.jsx)(n.code,{children:"level"}),", ",(0,r.jsx)(n.code,{children:"message"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"context"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"user_id"}),", ",(0,r.jsx)(n.code,{children:"request_id"}),", ",(0,r.jsx)(n.code,{children:"service"}),", ",(0,r.jsx)(n.code,{children:"logs_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"stack_trace"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"value"}),", ",(0,r.jsx)(n.code,{children:"logs_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"financial-data",children:"Financial Data"}),"\n",(0,r.jsx)(n.h3,{id:"transaction-records",children:"Transaction Records"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input JSON:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "transactions": [\n    {\n      "id": "txn_001",\n      "amount": 150.00,\n      "currency": "USD",\n      "type": "purchase",\n      "merchant": {\n        "name": "Coffee Shop",\n        "category": "Food & Beverage",\n        "location": {\n          "city": "San Francisco",\n          "state": "CA"\n        }\n      },\n      "card": {\n        "last_four": "1234",\n        "type": "credit"\n      },\n      "timestamp": "2024-01-15T14:30:00Z"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"transactions"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"amount"}),", ",(0,r.jsx)(n.code,{children:"currency"}),", ",(0,r.jsx)(n.code,{children:"type"}),", ",(0,r.jsx)(n.code,{children:"timestamp"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"merchant"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"category"}),", ",(0,r.jsx)(n.code,{children:"transactions_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"location"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"city"}),", ",(0,r.jsx)(n.code,{children:"state"}),", ",(0,r.jsx)(n.code,{children:"merchant_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"card"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"last_four"}),", ",(0,r.jsx)(n.code,{children:"type"}),", ",(0,r.jsx)(n.code,{children:"transactions_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"content-management",children:"Content Management"}),"\n",(0,r.jsx)(n.h3,{id:"blog-posts-and-comments",children:"Blog Posts and Comments"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input JSON:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "posts": [\n    {\n      "id": "post_001",\n      "title": "Getting Started with ReSQL",\n      "content": "ReSQL is a powerful tool for...",\n      "author": {\n        "name": "Jane Smith",\n        "email": "jane@example.com"\n      },\n      "tags": ["tutorial", "database", "json"],\n      "comments": [\n        {\n          "id": "comment_001",\n          "author": "John Doe",\n          "content": "Great tutorial!",\n          "created_at": "2024-01-15T16:00:00Z",\n          "replies": [\n            {\n              "author": "Jane Smith",\n              "content": "Thank you!",\n              "created_at": "2024-01-15T16:30:00Z"\n            }\n          ]\n        }\n      ],\n      "published_at": "2024-01-15T09:00:00Z"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"posts"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"title"}),", ",(0,r.jsx)(n.code,{children:"content"}),", ",(0,r.jsx)(n.code,{children:"published_at"}),", ",(0,r.jsx)(n.code,{children:"tags"})," (JSON array)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"author"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"email"}),", ",(0,r.jsx)(n.code,{children:"posts_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"comments"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"author"}),", ",(0,r.jsx)(n.code,{children:"content"}),", ",(0,r.jsx)(n.code,{children:"created_at"}),", ",(0,r.jsx)(n.code,{children:"posts_id"})," (FK)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"replies"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"author"}),", ",(0,r.jsx)(n.code,{children:"content"}),", ",(0,r.jsx)(n.code,{children:"created_at"}),", ",(0,r.jsx)(n.code,{children:"comments_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tips-for-working-with-json-data",children:"Tips for Working with JSON Data"}),"\n",(0,r.jsx)(n.h3,{id:"combining-multiple-json-objects",children:"Combining Multiple JSON Objects"}),"\n",(0,r.jsx)(n.p,{children:"When working with multiple JSON files or objects, you'll need to combine them to create a comprehensive schema. ReSQL only processes the fields that are present in your input data, so combining different objects ensures all fields are available in the final schema."}),"\n",(0,r.jsx)(n.h4,{id:"using-jq-to-merge-json-objects",children:"Using jq to Merge JSON Objects"}),"\n",(0,r.jsx)(n.p,{children:"Here are some useful jq commands for combining JSON data:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Merge two JSON objects:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Combine two JSON files\njq -s '.[0] * .[1]' file1.json file2.json > combined.json\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Merge arrays of objects:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Combine arrays from different files\njq -s '.[0] + .[1]' users.json posts.json > combined.json\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Merge nested objects:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Deep merge objects (recursive)\njq -s 'reduce .[] as $item ({}; . * $item)' file1.json file2.json > combined.json\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Add fields to existing objects:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Add new fields to each object in an array\njq \'.[] | . + {"new_field": "value"}\' data.json > enhanced.json\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Combine objects with different structures:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Merge objects, keeping all fields from both\njq -s '.[0] as $a | .[1] as $b | $a + $b | .users = ($a.users // []) + ($b.users // [])' file1.json file2.json\n"})}),"\n",(0,r.jsx)(n.h3,{id:"understanding-array-processing",children:"Understanding Array Processing"}),"\n",(0,r.jsx)(n.p,{children:"ReSQL handles different types of arrays differently:"}),"\n",(0,r.jsx)(n.h4,{id:"simple-arrays-kept-as-arrays",children:"Simple Arrays (Kept as Arrays)"}),"\n",(0,r.jsx)(n.p,{children:"Simple arrays of primitive values (strings, numbers, booleans) are preserved as arrays in the database:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "name": "John",\n    "hobbies": ["reading", "swimming", "coding"],\n    "scores": [85, 92, 78]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"hobbies"})," (JSON array), ",(0,r.jsx)(n.code,{children:"scores"})," (JSON array)"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"arrays-of-objects-converted-to-tables",children:"Arrays of Objects (Converted to Tables)"}),"\n",(0,r.jsx)(n.p,{children:"Arrays containing objects are automatically converted into separate tables with foreign key relationships:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "name": "John",\n    "posts": [\n      {"title": "Post 1", "content": "Content 1"},\n      {"title": "Post 2", "content": "Content 2"}\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"posts"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"title"}),", ",(0,r.jsx)(n.code,{children:"content"}),", ",(0,r.jsx)(n.code,{children:"user_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"mixed-arrays",children:"Mixed Arrays"}),"\n",(0,r.jsx)(n.p,{children:"Arrays containing both primitives and objects are converted to tables:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "name": "John",\n    "mixed_data": [\n      "simple string",\n      {"object": "value"},\n      42\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated Schema:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"name"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"mixed_data"})," table: ",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"value"})," (VARCHAR), ",(0,r.jsx)(n.code,{children:"user_id"})," (FK)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"best-practices-for-data-preparation",children:"Best Practices for Data Preparation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Combine related data"})," before processing to ensure comprehensive schemas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use consistent field names"})," across different JSON objects"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Include unique identifiers"})," when possible for better relationships"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consider array types"})," - simple arrays vs. arrays of objects"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test with sample data"})," before processing large datasets"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"1-master-detail-relationships",children:"1. Master-Detail Relationships"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "orders": [\n    {\n      "id": 1,\n      "customer": "John Doe",\n      "items": [\n        {"product": "Widget", "quantity": 2},\n        {"product": "Gadget", "quantity": 1}\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-hierarchical-data",children:"2. Hierarchical Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "categories": [\n    {\n      "id": 1,\n      "name": "Electronics",\n      "children": [\n        {"id": 2, "name": "Computers"},\n        {"id": 3, "name": "Phones"}\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-tagging-systems",children:"3. Tagging Systems"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "articles": [\n    {\n      "id": 1,\n      "title": "Article Title",\n      "tags": ["tech", "programming", "web"]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-configuration-data",children:"4. Configuration Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "settings": {\n    "app": {\n      "name": "MyApp",\n      "version": "1.0.0"\n    },\n    "database": {\n      "host": "localhost",\n      "port": 5432\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting-examples",children:"Troubleshooting Examples"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,r.jsx)(n.h4,{id:"1-inconsistent-data-types",children:"1. Inconsistent Data Types"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": Same field has different types across objects"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "users": [\n    {"id": 1, "age": 25},\n    {"id": 2, "age": "unknown"}\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": ReSQL handles this automatically by using the most permissive type"]}),"\n",(0,r.jsx)(n.h4,{id:"2-missing-identifiers",children:"2. Missing Identifiers"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": Objects don't have unique identifiers"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "products": [\n    {"name": "Widget", "price": 10.99},\n    {"name": "Gadget", "price": 15.99}\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": ReSQL automatically generates ID columns"]}),"\n",(0,r.jsx)(n.h4,{id:"3-circular-references",children:"3. Circular References"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": JSON contains circular references"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "users": [\n    {\n      "id": 1,\n      "name": "John",\n      "friends": [\n        {"id": 2, "name": "Jane", "friends": [{"id": 1}]}\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),': Use "Allow complex types" option or restructure the JSON']}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.p,{children:["Now that you've seen real-world examples, learn about ",(0,r.jsx)(n.a,{href:"/docs/resql/schema-evolution",children:"Schema Evolution"})," for handling changing data structures, or check out ",(0,r.jsx)(n.a,{href:"/docs/resql/troubleshooting",children:"Troubleshooting"})," for common issues and solutions."]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var i=s(6540);const r={},d=i.createContext(r);function c(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);